<style>
    .mb-0 {
        margin-bottom: 0px;
    }

    .mt-20 {
        margin-top: 20px;
    }

    .mt-10 {
        margin-top: 10px;
    }

    .text-dec-none>li>a:hover {
        text-decoration: none !important;
    }

    .valid-feedback-parent .valid-feedback {
        right: 65px !important;
    }
</style>

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card cst-card">
                <div class="card-title">
                    <div class="float-left">
                        <h4 class="text">Question Configuration</h4>
                    </div>
                </div>
                <div class="card-body inline-form">
                    <div class="row">
                        <div class="col-12">
                            <h5 class="card-sub-title">
                                Question Set Details
                            </h5>
                            <div>
                                <div class="form-group mb-0">
                                    <label for="questionSetName" control-label>
                                        <strong>Question Set Name</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.questionSetName}}
                                    </label>
                                </div>
                                <div class="form-group mb-0">
                                    <label for="questionSetType" control-label>
                                        <strong>Question Set Type</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.questionSetTypeName | emptylabel :
                                        '-'}}
                                    </label>
                                </div>
                                <div class="form-group mb-0">
                                    <label for="courseName" control-label>
                                        <strong>Course Name</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.courseName | emptylabel : '-'}}
                                    </label>
                                </div>
                                <div class="form-group mb-0">
                                    <label control-label>
                                        <strong>Module Name</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.topicName | emptylabel : '-'}}
                                    </label>
                                </div>
                                <div class="form-group mb-0">
                                    <label control-label>
                                        <strong>Lesson Name</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.mediaName | emptylabel : '-'}}
                                    </label>
                                </div>
                                <div class="form-group mb-0">
                                    <label control-label>
                                        <strong>Minimum Marks</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.minimumMarks | emptylabel : '-'}}
                                    </label>
                                </div>
                                <div class="form-group mb-0">
                                    <label control-label>
                                        <strong>Status</strong>
                                    </label>
                                    <label style="width:auto">
                                        {{configureQuestionController.questionSetObj.status ?
                                        configureQuestionController.questionSetObj.status : '-' | statecapitalize}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" class="tabclass mt-20">
                        <div class="row" ng-if="['Comprehension Quiz','Evaluation Quiz'].includes(configureQuestionController.questionSetObj.questionSetTypeName)">
                            <div class="col-12">
                                <div class="form-group mt-20">
                                    <label class="card-sub-title">
                                        Sections
                                    </label>
                                    <button type="button" class="btn btn-primary"
                                        ng-click="configureQuestionController.addSection()">
                                        Add Section
                                    </button>
                                </div>
                                <form role="form" name="configureQuestionController.questionForm" id="questionForm"
                                    novalidate>
                                    <div class="accordion mt-10" id="sectionsAccordion">
                                        <div
                                            ng-repeat="(sectionIndex, section) in configureQuestionController.sections">
                                            <div class="card"
                                                ng-style="(configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) ||
                                                    configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) ||
                                                    configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex)) ?
                                                    {'border-top-color': '#dc3545', 'border-left-color': '#dc3545', 'border-right-color': '#dc3545'} : {}">
                                                <div class="card-header pl-0"
                                                    style="cursor: pointer; background: #d1ecf1;" ng-style="(configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) ||
                                                        configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) ||
                                                        configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex)) ?
                                                        {'border-bottom-color': '#dc3545'} : {}" data-toggle="collapse"
                                                    data-target="#collapseTabSec{{sectionIndex}}" aria-expanded="false"
                                                    aria-controls="collapseTabSec{{sectionIndex}}"
                                                    id="headingSec{{sectionIndex}}">
                                                    <h5 class="mb-0">
                                                        <button class="btn btn-link"
                                                            style="text-decoration: none; min-width: max-content;"
                                                            type="button">
                                                            Section #{{sectionIndex + 1}})
                                                            {{section.sectionTitle}}
                                                        </button>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                !configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                !configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate section is not allowed
                                                        </div>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(!configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                !configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate question is not allowed
                                                        </div>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(!configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                !configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate options are not allowed
                                                        </div>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                !configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate section and question are not allowed
                                                        </div>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(!configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate question and options are not allowed
                                                        </div>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                !configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate section and options are not allowed
                                                        </div>
                                                        <div class="alert alert-danger valid-feedback"
                                                            style="top: 10px;"
                                                            ng-if="(configureQuestionController.duplicateSectionsArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex) &&
                                                                configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex))">
                                                            Duplicate question, section and options are not allowed
                                                        </div>
                                                    </h5>
                                                </div>
                                                <div id="collapseTabSec{{sectionIndex}}" class="collapse"
                                                    aria-labelledby="headingSec{{sectionIndex}}"
                                                    data-parent="#sectionsAccordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-9">
                                                                <div class="form-group">
                                                                    <validate for='sectionTitle{{sectionIndex}}'
                                                                        required-msg="Enter Section name">
                                                                        <label for='sectionTitle{{sectionIndex}}'
                                                                            control-label>
                                                                            Section Title
                                                                        </label>
                                                                        <input type="text"
                                                                            class="form-control cst-form-control"
                                                                            form-control required
                                                                            name="sectionTitle{{sectionIndex}}"
                                                                            id="sectionTitle{{sectionIndex}}"
                                                                            ng-model="section.sectionTitle">
                                                                        <placeholder></placeholder>
                                                                    </validate>
                                                                </div>
                                                                <div class="form-group">
                                                                    <validate for='sectionDescription{{sectionIndex}}'
                                                                        required-msg="Enter Section Description">
                                                                        <label for='sectionDescription{{sectionIndex}}'
                                                                            control-label>
                                                                            Section Description
                                                                        </label>
                                                                        <textarea type="text" rows="3"
                                                                            class="form-control cst-form-control"
                                                                            form-control required
                                                                            name="sectionDescription{{sectionIndex}}"
                                                                            id="sectionDescription{{sectionIndex}}"
                                                                            ng-model="section.sectionDescription">
                                                                        </textarea>
                                                                        <placeholder></placeholder>
                                                                    </validate>
                                                                </div>
                                                            </div>
                                                            <div class="col-3">
                                                                <button type="button" class="btn btn-danger"
                                                                    style="height: 33px;"
                                                                    ng-click="configureQuestionController.removeSection(sectionIndex)">
                                                                    Remove Section
                                                                </button>
                                                                <button class="btn btn-primary" style="height: 33px;"
                                                                    ng-click="configureQuestionController.preview(sectionIndex)">
                                                                    Preview Section
                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div class="form-group mt-20">
                                                            <label class="card-sub-title">
                                                                Questions
                                                            </label>
                                                            <button type="button" class="btn btn-primary"
                                                                ng-click="configureQuestionController.addQuestion(sectionIndex)">
                                                                Add Question
                                                            </button>
                                                        </div>
                                                        <div class="accordion mt-10" id="questionsAccordion">
                                                            <div
                                                                ng-repeat="(questionIndex, question) in section.questions | reverseIterate">
                                                                <div class="card"
                                                                    ng-style="configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex + 'queId' + question.id) || configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex + 'queId' + question.id) ? {'border-top-color': '#dc3545', 'border-left-color': '#dc3545', 'border-right-color': '#dc3545'} : {}">
                                                                    <div class="card-header pl-0"
                                                                        style="cursor: pointer; padding: 0;"
                                                                        ng-style="configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex + 'queId' + question.id) || configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex + 'queId' + question.id) ? {'border-bottom-color': '#dc3545'} : {}"
                                                                        data-toggle="collapse"
                                                                        data-target="#collapseTabSec{{sectionIndex}}que{{questionIndex}}"
                                                                        aria-expanded="false"
                                                                        aria-controls="collapseTabSec{{sectionIndex}}que{{questionIndex}}"
                                                                        id="headingSec{{sectionIndex}}que{{questionIndex}}">
                                                                        <h5 class="mb-0">
                                                                            <button class="btn btn-link"
                                                                                style="text-decoration: none; min-width: max-content;"
                                                                                type="button">
                                                                                #{{section.questions.length -
                                                                                questionIndex}})
                                                                                {{question.questionTitle}}
                                                                                <span
                                                                                    ng-repeat="(opIndex, op) in question.options | filter : { isCorrect : true }"
                                                                                    style="color: green;">
                                                                                    {{(opIndex === 0 ? '- ' : ', ') +
                                                                                    op.optionTitle}}
                                                                                </span>
                                                                            </button>
                                                                            <div class="alert alert-danger valid-feedback"
                                                                                style="top: 0;"
                                                                                ng-if="configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex + 'queId' + question.id) && !configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex + 'queId' + question.id)">
                                                                                Duplicate question is not allowed
                                                                            </div>
                                                                            <div class="alert alert-danger valid-feedback"
                                                                                style="top: 0;"
                                                                                ng-if="configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex + 'queId' + question.id) && !configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex + 'queId' + question.id)">
                                                                                Duplicate options are not allowed
                                                                            </div>
                                                                            <div class="alert alert-danger valid-feedback"
                                                                                style="top: 0;"
                                                                                ng-if="configureQuestionController.duplicateQuesArr.includes('secIdx' + sectionIndex + 'queId' + question.id) && configureQuestionController.duplicateOptionsArr.includes('secIdx' + sectionIndex + 'queId' + question.id)">
                                                                                Duplicate question and options are not
                                                                                allowed
                                                                            </div>
                                                                        </h5>
                                                                    </div>
                                                                    <!-- ng-class="{'show' : questionIndex === 0}" -->
                                                                    <div id="collapseTabSec{{sectionIndex}}que{{questionIndex}}"
                                                                        class="collapse"
                                                                        ng-class="{'show' : questionIndex === 0}"
                                                                        aria-labelledby="headingSec{{sectionIndex}}que{{questionIndex}}"
                                                                        data-parent="#questionsAccordion">
                                                                        <div class="card-body">
                                                                            <div class="row">
                                                                                <div class="col-9">
                                                                                    <div class="form-group">
                                                                                        <validate
                                                                                            for="questionTypeSec{{sectionIndex}}que{{questionIndex}}">
                                                                                            <label
                                                                                                for="questionTypeSec{{sectionIndex}}que{{questionIndex}}"
                                                                                                class="control-label"
                                                                                                control-label>
                                                                                                Question Type
                                                                                            </label>
                                                                                            <select
                                                                                                class="form-control cst-form-control"
                                                                                                form-control
                                                                                                ng-model="question.questionType"
                                                                                                ng-change="configureQuestionController.onQuestionTypeChange(section.questions.length - (questionIndex + 1), sectionIndex, question.questionType)"
                                                                                                id="questionTypeSec{{sectionIndex}}que{{questionIndex}}"
                                                                                                name="questionTypeSec{{sectionIndex}}que{{questionIndex}}">
                                                                                                <option
                                                                                                    value="SINGLE_SELECT">
                                                                                                    Single Select
                                                                                                </option>
                                                                                                <option
                                                                                                    value="MULTI_SELECT">
                                                                                                    Multi Select
                                                                                                </option>
                                                                                                <option
                                                                                                    value="FILL_IN_THE_BLANKS">
                                                                                                    Fill In The Blanks
                                                                                                </option>
                                                                                                <option
                                                                                                    value="MATCH_THE_FOLLOWING">
                                                                                                    Match The Following
                                                                                                </option>
                                                                                            </select>
                                                                                            <placeholder></placeholder>
                                                                                        </validate>
                                                                                    </div>
                                                                                    <div class="form-group"
                                                                                        ng-style="question.questionType === 'FILL_IN_THE_BLANKS' && {'margin-bottom': '24px'}">
                                                                                        <validate
                                                                                            for='questionTitleSec{{sectionIndex}}que{{questionIndex}}'
                                                                                            required-msg="Enter Question name">
                                                                                            <label
                                                                                                for='questionTitleSec{{sectionIndex}}que{{questionIndex}}'
                                                                                                control-label>
                                                                                                Question Title
                                                                                            </label>
                                                                                            <input type="text"
                                                                                                ng-pattern="/$/"
                                                                                                class="form-control cst-form-control"
                                                                                                form-control required
                                                                                                name="questionTitleSec{{sectionIndex}}que{{questionIndex}}"
                                                                                                id="questionTitleSec{{sectionIndex}}que{{questionIndex}}"
                                                                                                ng-model="question.questionTitle">
                                                                                            <a href="javascript:void(0)"
                                                                                                style="float: right;"
                                                                                                ng-if="question.questionType === 'FILL_IN_THE_BLANKS'"
                                                                                                ng-click="configureQuestionController.onQuestionBlankAddition(section.questions.length - (questionIndex + 1), sectionIndex)">
                                                                                                Add Blank
                                                                                            </a>
                                                                                            <placeholder></placeholder>
                                                                                        </validate>
                                                                                    </div>
                                                                                    <div ng-if="['SINGLE_SELECT', 'MULTI_SELECT'].includes(question.questionType)"
                                                                                        class="form-group"
                                                                                        flow-init="configureQuestionController.fileUploadOptions"
                                                                                        flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)), 'IMAGE')"
                                                                                        flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)))"
                                                                                        flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, question, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)))"
                                                                                        flow-file-error="configureQuestionController.onFileError($file, $message, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)));">
                                                                                        <div
                                                                                            style="display: inline-flex;">
                                                                                            <button
                                                                                                style="height: 33px;"
                                                                                                type="button"
                                                                                                flow-attrs="{accept:'image/*'}"
                                                                                                flow-btn
                                                                                                class="btn btn-primary"
                                                                                                ng-disabled="configureQuestionController.isFileUploading['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))]">
                                                                                                Upload Image
                                                                                            </button>
                                                                                            <span class="text-danger p-1" ng-if="['SINGLE_SELECT', 'MULTI_SELECT'].includes(question.questionType)">
                                                                                                <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                            </span>
                                                                                        </div>
                                                                                        <span class="text-danger"
                                                                                            ng-if="configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))].isError">
                                                                                            {{configureQuestionController.filePayload['sec'
                                                                                            + sectionIndex + 'que'
                                                                                            +
                                                                                            (section.questions.length
                                                                                            - (questionIndex +
                                                                                            1))].errorMessage}}
                                                                                        </span>
                                                                                        <div
                                                                                            ng-repeat="file in configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))].flow.files | reverseIterate">
                                                                                            <div ng-if="configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))][file.name]"
                                                                                                style="margin-bottom: 0; width: max-content;"
                                                                                                class="mt-2 alert alert-success ">
                                                                                                <span
                                                                                                    class="text-center">{{file.name}}
                                                                                                    Uploading...
                                                                                                    <i aria-hidden="true"
                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                </span>
                                                                                            </div>
                                                                                            <div ng-if="!configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))][file.name]"
                                                                                                style="margin-bottom: 0; width: max-content;"
                                                                                                class="mt-2"
                                                                                                style="float:left">
                                                                                                <a href="javascript:void(0)"
                                                                                                    ng-click="configureQuestionController.viewImageModal(question)"
                                                                                                    class="text-center alert alert-success">
                                                                                                    {{file.name}}
                                                                                                    Uploaded
                                                                                                    Successfully
                                                                                                    <i aria-hidden="true"
                                                                                                        class="fa fa-check fa-1x"></i>
                                                                                                </a>
                                                                                                <button
                                                                                                    class="btn btn-danger"
                                                                                                    type="button"
                                                                                                    style="cursor: pointer; margin-left: 6px;"
                                                                                                    ng-click="configureQuestionController.onRemoveFile(question, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)), file.name)">
                                                                                                    Remove <i
                                                                                                        aria-hidden="true"
                                                                                                        ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))][file.name]"
                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                </button>
                                                                                            </div>
                                                                                        </div>
                                                                                        <span
                                                                                            ng-if="!configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))].flow && question.mediaName">
                                                                                            <a href="javascript:void(0)"
                                                                                                ng-click="configureQuestionController.viewImageModal(question)"
                                                                                                class="text-center alert alert-info">
                                                                                                {{question.mediaName}}
                                                                                                <i aria-hidden="true"
                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                            </a>
                                                                                            <button
                                                                                                class="btn btn-danger"
                                                                                                type="button"
                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                ng-click="configureQuestionController.onRemoveFile(question, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)), file.name)">
                                                                                                Remove
                                                                                                <i aria-hidden="true"
                                                                                                    ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1))][file.name]"
                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                            </button>
                                                                                        </span>
                                                                                    </div>
                                                                                    <div
                                                                                        ng-if="['SINGLE_SELECT', 'MULTI_SELECT', 'FILL_IN_THE_BLANKS'].includes(question.questionType) && configureQuestionController.selectedTestConfig.provideInteractiveFeedbackAfterEachQuestion">
                                                                                        <div class="form-group">
                                                                                            <validate
                                                                                                for='correctAnswerDescription{{sectionIndex}}que{{questionIndex}}'
                                                                                                required-msg="Enter Correct Answer Description">
                                                                                                <label
                                                                                                    for='correctAnswerDescription{{sectionIndex}}que{{questionIndex}}'
                                                                                                    control-label
                                                                                                    style="white-space: initial;">
                                                                                                    Correct Answer
                                                                                                    Description
                                                                                                </label>
                                                                                                <textarea type="text"
                                                                                                    rows="2"
                                                                                                    class="form-control cst-form-control"
                                                                                                    form-control
                                                                                                    required
                                                                                                    name="correctAnswerDescription{{sectionIndex}}que{{questionIndex}}"
                                                                                                    id="correctAnswerDescription{{sectionIndex}}que{{questionIndex}}"
                                                                                                    ng-model="question.correctAnswerDescription">
                                                                                            </textarea>
                                                                                                <placeholder>
                                                                                                </placeholder>
                                                                                            </validate>
                                                                                        </div>
                                                                                        <div class="form-group">
                                                                                            <validate
                                                                                                for='incorrectAnswerDescription{{sectionIndex}}que{{questionIndex}}'
                                                                                                required-msg="Enter Incorrect Answer Description">
                                                                                                <label
                                                                                                    for='incorrectAnswerDescription{{sectionIndex}}que{{questionIndex}}'
                                                                                                    control-label
                                                                                                    style="white-space: initial;">
                                                                                                    Incorrect Answer
                                                                                                    Description
                                                                                                </label>
                                                                                                <textarea type="text"
                                                                                                    rows="2"
                                                                                                    class="form-control cst-form-control"
                                                                                                    form-control
                                                                                                    required
                                                                                                    name="incorrectAnswerDescription{{sectionIndex}}que{{questionIndex}}"
                                                                                                    id="incorrectAnswerDescription{{sectionIndex}}que{{questionIndex}}"
                                                                                                    ng-model="question.incorrectAnswerDescription">
                                                                                            </textarea>
                                                                                                <placeholder>
                                                                                                </placeholder>
                                                                                            </validate>
                                                                                        </div>
                                                                                        <div class="form-group">
                                                                                            <validate
                                                                                                for='interactiveFeedbackContent{{sectionIndex}}que{{questionIndex}}'
                                                                                                required-msg="Enter Interactive Feedback Content">
                                                                                                <label
                                                                                                    for='interactiveFeedbackContent{{sectionIndex}}que{{questionIndex}}'
                                                                                                    control-label
                                                                                                    style="white-space: initial;">
                                                                                                    Interactive Feedback
                                                                                                    Content
                                                                                                </label>
                                                                                                <textarea type="text"
                                                                                                    rows="2"
                                                                                                    class="form-control cst-form-control"
                                                                                                    form-control
                                                                                                    name="interactiveFeedbackContent{{sectionIndex}}que{{questionIndex}}"
                                                                                                    id="interactiveFeedbackContent{{sectionIndex}}que{{questionIndex}}"
                                                                                                    ng-model="question.interactiveFeedbackContent">
                                                                                            </textarea>
                                                                                                <placeholder>
                                                                                                </placeholder>
                                                                                            </validate>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-3">
                                                                                    <button type="button"
                                                                                        class="btn btn-danger"
                                                                                        style="height: 33px;"
                                                                                        ng-click="configureQuestionController.removeQuestion(section.questions.length - (questionIndex + 1), sectionIndex)">
                                                                                        Remove Question
                                                                                    </button>
                                                                                </div>
                                                                                <div class="col-9">
                                                                                    <div
                                                                                        ng-if="['SINGLE_SELECT', 'MULTI_SELECT'].includes(question.questionType)">
                                                                                        <div class="form-group"
                                                                                            style="margin-bottom: 0; margin-top: 1rem;">
                                                                                            <label
                                                                                                class="card-sub-title">
                                                                                                Options
                                                                                            </label>
                                                                                        </div>
                                                                                        <div class="row"
                                                                                            ng-if="question.options.length > 0">
                                                                                            <div class="col-12 md-15">
                                                                                                <div class="cst-table table-responsive"
                                                                                                    style="overflow: auto;max-height: calc(100vh - 169px);">
                                                                                                    <table
                                                                                                        class="table table-sm table-striped filter-table table-fixed table-bordered header-fixed">
                                                                                                        <thead
                                                                                                            class="cst-thead">
                                                                                                            <tr>
                                                                                                                <th
                                                                                                                    style="width: 5%">
                                                                                                                    #
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 75%">
                                                                                                                    Option
                                                                                                                    Title
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 10%">
                                                                                                                    Is
                                                                                                                    Correct
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 10%">
                                                                                                                    Action
                                                                                                                </th>
                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody
                                                                                                            class="cst-tbody">
                                                                                                            <tr ng-repeat="(optionIndex, option) in question.options"
                                                                                                                ng-if="question.options.length > 0">
                                                                                                                <td>{{$index+1}}
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="form-group">
                                                                                                                    <validate
                                                                                                                        for='optionSec{{sectionIndex}}que{{questionIndex}}opt{{optionIndex}}'
                                                                                                                        required-msg="Enter option title">
                                                                                                                        <input
                                                                                                                            type="text"
                                                                                                                            ng-pattern="/$/"
                                                                                                                            class="form-control cst-form-control"
                                                                                                                            style="width: 100%;"
                                                                                                                            form-control
                                                                                                                            name="optionSec{{sectionIndex}}que{{questionIndex}}opt{{optionIndex}}"
                                                                                                                            id="optionSec{{sectionIndex}}que{{questionIndex}}opt{{optionIndex}}"
                                                                                                                            required
                                                                                                                            ng-model="option.optionTitle">
                                                                                                                        <placeholder>
                                                                                                                        </placeholder>
                                                                                                                    </validate>

                                                                                                                    <div class="form-group"
                                                                                                                        style="margin-top: 4px;"
                                                                                                                        flow-init="configureQuestionController.fileUploadOptions"
                                                                                                                        flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex, 'IMAGE')"
                                                                                                                        flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex)"
                                                                                                                        flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, option, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex)"
                                                                                                                        flow-file-error="configureQuestionController.onFileError($file, $message, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex);">
                                                                                                                        <div
                                                                                                                            style="display: inline-flex;">
                                                                                                                            <button
                                                                                                                                style="height: 33px;"
                                                                                                                                type="button"
                                                                                                                                flow-attrs="{accept:'image/*'}"
                                                                                                                                flow-btn
                                                                                                                                class="btn btn-primary"
                                                                                                                                ng-disabled="configureQuestionController.isFileUploading['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex]">
                                                                                                                                Upload
                                                                                                                                Image
                                                                                                                            </button>
                                                                                                                            <span class="text-danger p-1">
                                                                                                                                <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                        <span
                                                                                                                            class="text-danger"
                                                                                                                            ng-if="configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex].isError">
                                                                                                                            {{configureQuestionController.filePayload['sec'
                                                                                                                            +
                                                                                                                            sectionIndex
                                                                                                                            +
                                                                                                                            'que'
                                                                                                                            +
                                                                                                                            (section.questions.length
                                                                                                                            -
                                                                                                                            (questionIndex
                                                                                                                            +
                                                                                                                            1))
                                                                                                                            +
                                                                                                                            'opt'
                                                                                                                            +
                                                                                                                            optionIndex].errorMessage}}
                                                                                                                        </span>
                                                                                                                        <div
                                                                                                                            ng-repeat="file in configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex].flow.files | reverseIterate">
                                                                                                                            <div ng-if="configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                                style="margin-bottom: 0;"
                                                                                                                                class="mt-2 alert alert-success ">
                                                                                                                                <span
                                                                                                                                    class="text-center">{{file.name}}
                                                                                                                                    Uploading...
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                                </span>
                                                                                                                            </div>
                                                                                                                            <div ng-if="!configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                                style="margin-bottom: 0;"
                                                                                                                                class="mt-2"
                                                                                                                                style="float:left">
                                                                                                                                <a href="javascript:void(0)"
                                                                                                                                    ng-click="configureQuestionController.viewImageModal(option)"
                                                                                                                                    class="text-center alert alert-success">
                                                                                                                                    {{file.name}}
                                                                                                                                    Uploaded
                                                                                                                                    Successfully
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        class="fa fa-check fa-1x"></i>
                                                                                                                                </a>
                                                                                                                                <button
                                                                                                                                    class="btn btn-danger"
                                                                                                                                    type="button"
                                                                                                                                    style="cursor: pointer; margin-left: 6px;"
                                                                                                                                    ng-click="configureQuestionController.onRemoveFile(option, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex, file.name)">
                                                                                                                                    Remove
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                                </button>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <span
                                                                                                                            ng-if="!configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex].flow && option.mediaName">
                                                                                                                            <a href="javascript:void(0)"
                                                                                                                                ng-click="configureQuestionController.viewImageModal(option)"
                                                                                                                                class="text-center alert alert-info">
                                                                                                                                {{option.mediaName}}
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                                                            </a>
                                                                                                                            <button
                                                                                                                                class="btn btn-danger"
                                                                                                                                type="button"
                                                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                                                ng-click="configureQuestionController.onRemoveFile(option, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex, file.name)">
                                                                                                                                Remove
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </button>
                                                                                                                        </span>
                                                                                                                    </div>
                                                                                                                </td>
                                                                                                                <td>
                                                                                                                    <input
                                                                                                                        ng-value="true"
                                                                                                                        name="isCorrectSec{{sectionIndex}}que{{questionIndex}}"
                                                                                                                        form-control
                                                                                                                        type="radio"
                                                                                                                        required
                                                                                                                        ng-if="question.questionType === 'SINGLE_SELECT'"
                                                                                                                        ng-change="configureQuestionController.setIsCorrectValue(optionIndex, section.questions.length - (questionIndex + 1), sectionIndex)"
                                                                                                                        ng-model="option.isCorrect">
                                                                                                                    <label
                                                                                                                        control-label
                                                                                                                        class="control control-checkbox"
                                                                                                                        ng-if="question.questionType === 'MULTI_SELECT'">
                                                                                                                        <input
                                                                                                                            ng-value="true"
                                                                                                                            checked="checked"
                                                                                                                            name="isCorrectSec{{sectionIndex}}que{{questionIndex}}"
                                                                                                                            form-control
                                                                                                                            type="checkbox"
                                                                                                                            ng-model="option.isCorrect">
                                                                                                                        <div
                                                                                                                            class="control_indicator">
                                                                                                                        </div>
                                                                                                                    </label>
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="action-cell">
                                                                                                                    <ul
                                                                                                                        class="action-item">
                                                                                                                        <li style="cursor: pointer;"
                                                                                                                            ng-if="question.options.length > 1">
                                                                                                                            <a class="action-icon delete-icon"
                                                                                                                                ng-click="configureQuestionController.removeOption(optionIndex, section.questions.length - (questionIndex + 1), sectionIndex)"></a>
                                                                                                                        </li>
                                                                                                                        <li ng-click="configureQuestionController.addOption(section.questions.length - (questionIndex + 1), sectionIndex)"
                                                                                                                            style="color: #007bff; font-size: 17px; cursor: pointer;"
                                                                                                                            ng-if="optionIndex === (question.options.length - 1)">
                                                                                                                            <i aria-hidden="true"
                                                                                                                                class="fa fa-plus-circle fa-2x">
                                                                                                                            </i>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div
                                                                                        ng-if="question.questionType === 'FILL_IN_THE_BLANKS'">
                                                                                        <div class="form-group"
                                                                                            style="margin-bottom: 0; margin-top: 1rem;">
                                                                                            <label
                                                                                                class="card-sub-title">
                                                                                                Answers
                                                                                            </label>
                                                                                        </div>
                                                                                        <div class="row"
                                                                                            ng-if="question.answers.length > 0">
                                                                                            <div class="col-12 md-15">
                                                                                                <div class="cst-table table-responsive"
                                                                                                    style="overflow: auto;max-height: calc(100vh - 169px);">
                                                                                                    <table
                                                                                                        class="table table-sm table-striped filter-table table-fixed table-bordered header-fixed">
                                                                                                        <thead
                                                                                                            class="cst-thead">
                                                                                                            <tr>
                                                                                                                <th
                                                                                                                    style="width: 10%">
                                                                                                                    Blank
                                                                                                                    No.
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 80%">
                                                                                                                    Answer
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 10%">
                                                                                                                    Action
                                                                                                                </th>
                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody
                                                                                                            class="cst-tbody">
                                                                                                            <tr ng-repeat="(answerIndex, answer) in question.answers"
                                                                                                                ng-if="question.answers.length > 0">
                                                                                                                <td>{{answer.blankNumber}}
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="form-group">
                                                                                                                    <validate
                                                                                                                        for='answerSec{{sectionIndex}}que{{questionIndex}}ans{{answerIndex}}'
                                                                                                                        required-msg="Enter answer">
                                                                                                                        <input
                                                                                                                            type="text"
                                                                                                                            ng-pattern="/$/"
                                                                                                                            class="form-control cst-form-control"
                                                                                                                            style="width: 100%;"
                                                                                                                            form-control
                                                                                                                            name="answerSec{{sectionIndex}}que{{questionIndex}}ans{{answerIndex}}"
                                                                                                                            id="answerSec{{sectionIndex}}que{{questionIndex}}ans{{answerIndex}}"
                                                                                                                            required
                                                                                                                            ng-model="answer.blankValue">
                                                                                                                        <placeholder>
                                                                                                                        </placeholder>
                                                                                                                    </validate>
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="action-cell">
                                                                                                                    <ul
                                                                                                                        class="action-item">
                                                                                                                        <li style="cursor: pointer;"
                                                                                                                            ng-if="answerIndex === (question.answers.length - 1)">
                                                                                                                            <a class="action-icon delete-icon"
                                                                                                                                ng-click="configureQuestionController.removeBlankAnswer(answerIndex, section.questions.length - (questionIndex + 1), sectionIndex)"></a>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div
                                                                                        ng-if="question.questionType === 'MATCH_THE_FOLLOWING'">
                                                                                        <div class="form-group"
                                                                                            style="margin-bottom: 0; margin-top: 1rem;">
                                                                                            <label
                                                                                                class="card-sub-title">
                                                                                                Options
                                                                                                <em popover-placement="'auto'"
                                                                                                    data-html="true"
                                                                                                    uib-popover="Please add the correct pair on both the sides(Left and Right). While asking the question to the user, random display of the right side will be maintained by the system."
                                                                                                    popover-trigger="'mouseenter'"
                                                                                                    class="fa fa-question-circle">
                                                                                                </em>
                                                                                            </label>
                                                                                        </div>
                                                                                        <div class="row"
                                                                                            ng-if="question.lhs.length > 0">
                                                                                            <div class="col-12 md-15">
                                                                                                <div class="cst-table table-responsive"
                                                                                                    style="overflow: auto;max-height: calc(100vh - 169px);">
                                                                                                    <table
                                                                                                        class="table table-sm table-striped filter-table table-fixed table-bordered header-fixed">
                                                                                                        <thead
                                                                                                            class="cst-thead">
                                                                                                            <tr>
                                                                                                                <th
                                                                                                                    style="width: 10%">
                                                                                                                    Pair
                                                                                                                    No.
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 40%">
                                                                                                                    LHS
                                                                                                                    Option
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 40%">
                                                                                                                    RHS
                                                                                                                    Option
                                                                                                                </th>
                                                                                                                <th
                                                                                                                    style="width: 15%">
                                                                                                                    Action
                                                                                                                </th>
                                                                                                            </tr>
                                                                                                        </thead>
                                                                                                        <tbody
                                                                                                            class="cst-tbody">
                                                                                                            <tr ng-repeat="(lhsOptionIndex, lhsOption) in question.lhs"
                                                                                                                ng-if="question.lhs.length > 0">
                                                                                                                <td>{{$index+1}}
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="form-group">
                                                                                                                    <validate
                                                                                                                        style="display: inline;"
                                                                                                                        class="valid-feedback-parent"
                                                                                                                        for='optionSec{{sectionIndex}}que{{questionIndex}}lhsOpt{{lhsOptionIndex}}'
                                                                                                                        required-msg="Enter LHS option">
                                                                                                                        <input
                                                                                                                            type="text"
                                                                                                                            ng-pattern="/$/"
                                                                                                                            class="form-control cst-form-control"
                                                                                                                            style="width: 85%;"
                                                                                                                            form-control
                                                                                                                            name="optionSec{{sectionIndex}}que{{questionIndex}}lhsOpt{{lhsOptionIndex}}"
                                                                                                                            id="optionSec{{sectionIndex}}que{{questionIndex}}lhsOpt{{lhsOptionIndex}}"
                                                                                                                            required
                                                                                                                            ng-model="lhsOption.optionTitle">
                                                                                                                        <placeholder>
                                                                                                                        </placeholder>
                                                                                                                    </validate>

                                                                                                                    <div class="form-group"
                                                                                                                        style="margin-top: 4px;"
                                                                                                                        flow-init="configureQuestionController.fileUploadOptions"
                                                                                                                        flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex, 'IMAGE')"
                                                                                                                        flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex)"
                                                                                                                        flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, lhsOption, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex)"
                                                                                                                        flow-file-error="configureQuestionController.onFileError($file, $message, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex);">
                                                                                                                        <div
                                                                                                                            style="display: inline-flex;">
                                                                                                                            <button
                                                                                                                                style="height: 33px;"
                                                                                                                                type="button"
                                                                                                                                flow-attrs="{accept:'image/*'}"
                                                                                                                                flow-btn
                                                                                                                                class="btn btn-primary"
                                                                                                                                ng-disabled="configureQuestionController.isFileUploading['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex]">
                                                                                                                                Upload
                                                                                                                                Image
                                                                                                                            </button>
                                                                                                                            <span class="text-danger p-1">
                                                                                                                                <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                        <span
                                                                                                                            class="text-danger"
                                                                                                                            ng-if="configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex].isError">
                                                                                                                            {{configureQuestionController.filePayload['que'
                                                                                                                            +
                                                                                                                            (section.questions.length
                                                                                                                            -
                                                                                                                            (questionIndex
                                                                                                                            +
                                                                                                                            1))].errorMessage}}
                                                                                                                        </span>
                                                                                                                        <div
                                                                                                                            ng-repeat="file in configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex].flow.files | reverseIterate">
                                                                                                                            <div ng-if="configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                style="margin-bottom: 0;"
                                                                                                                                class="mt-2 alert alert-success ">
                                                                                                                                <span
                                                                                                                                    class="text-center">{{file.name}}
                                                                                                                                    Uploading...
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                                </span>
                                                                                                                            </div>
                                                                                                                            <div ng-if="!configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                style="margin-bottom: 0;"
                                                                                                                                class="mt-2"
                                                                                                                                style="float:left">
                                                                                                                                <a href="javascript:void(0)"
                                                                                                                                    ng-click="configureQuestionController.viewImageModal(lhsOption)"
                                                                                                                                    class="text-center alert alert-success">
                                                                                                                                    {{file.name}}
                                                                                                                                    Uploaded
                                                                                                                                    Successfully
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        class="fa fa-check fa-1x"></i>
                                                                                                                                </a>
                                                                                                                                <button
                                                                                                                                    class="btn btn-danger"
                                                                                                                                    type="button"
                                                                                                                                    style="cursor: pointer; margin-left: 6px;"
                                                                                                                                    ng-click="configureQuestionController.onRemoveFile(lhsOption, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex, file.name)">
                                                                                                                                    Remove
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                                </button>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <span
                                                                                                                            ng-if="!configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex].flow && lhsOption.mediaName">
                                                                                                                            <a href="javascript:void(0)"
                                                                                                                                ng-click="configureQuestionController.viewImageModal(lhsOption)"
                                                                                                                                class="text-center alert alert-info">
                                                                                                                                {{lhsOption.mediaName}}
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                                                            </a>
                                                                                                                            <button
                                                                                                                                class="btn btn-danger"
                                                                                                                                type="button"
                                                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                                                ng-click="configureQuestionController.onRemoveFile(lhsOption, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex, file.name)">
                                                                                                                                Remove
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'lhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </button>
                                                                                                                        </span>
                                                                                                                    </div>
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="form-group">
                                                                                                                    <validate
                                                                                                                        style="display: inline;"
                                                                                                                        class="valid-feedback-parent"
                                                                                                                        for='optionSec{{sectionIndex}}que{{questionIndex}}rhsOpt{{lhsOptionIndex}}'
                                                                                                                        required-msg="Enter RHS option">
                                                                                                                        <input
                                                                                                                            type="text"
                                                                                                                            ng-pattern="/$/"
                                                                                                                            class="form-control cst-form-control"
                                                                                                                            style="width: 85%;"
                                                                                                                            form-control
                                                                                                                            name="optionSec{{sectionIndex}}que{{questionIndex}}rhsOpt{{lhsOptionIndex}}"
                                                                                                                            id="optionSec{{sectionIndex}}que{{questionIndex}}rhsOpt{{lhsOptionIndex}}"
                                                                                                                            required
                                                                                                                            ng-model="question.rhs[lhsOptionIndex].optionTitle">
                                                                                                                        <placeholder>
                                                                                                                        </placeholder>
                                                                                                                    </validate>

                                                                                                                    <div class="form-group"
                                                                                                                        style="margin-top: 4px;"
                                                                                                                        flow-init="configureQuestionController.fileUploadOptions"
                                                                                                                        flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex, 'IMAGE')"
                                                                                                                        flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex)"
                                                                                                                        flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, question.rhs[lhsOptionIndex], 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex)"
                                                                                                                        flow-file-error="configureQuestionController.onFileError($file, $message, 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex);">
                                                                                                                        <div
                                                                                                                            style="display: inline-flex;">
                                                                                                                            <button
                                                                                                                                style="height: 33px;"
                                                                                                                                type="button"
                                                                                                                                flow-attrs="{accept:'image/*'}"
                                                                                                                                flow-btn
                                                                                                                                class="btn btn-primary"
                                                                                                                                ng-disabled="configureQuestionController.isFileUploading['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex]">
                                                                                                                                Upload
                                                                                                                                Image
                                                                                                                            </button>
                                                                                                                            <span class="text-danger p-1">
                                                                                                                                <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                        <span
                                                                                                                            class="text-danger"
                                                                                                                            ng-if="configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex].isError">
                                                                                                                            {{configureQuestionController.filePayload['que'
                                                                                                                            +
                                                                                                                            (section.questions.length
                                                                                                                            -
                                                                                                                            (questionIndex
                                                                                                                            +
                                                                                                                            1))].errorMessage}}
                                                                                                                        </span>
                                                                                                                        <div
                                                                                                                            ng-repeat="file in configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex].flow.files | reverseIterate">
                                                                                                                            <div ng-if="configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                style="margin-bottom: 0;"
                                                                                                                                class="mt-2 alert alert-success ">
                                                                                                                                <span
                                                                                                                                    class="text-center">{{file.name}}
                                                                                                                                    Uploading...
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                                </span>
                                                                                                                            </div>
                                                                                                                            <div ng-if="!configureQuestionController.isFileUploadProcessing['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                style="margin-bottom: 0;"
                                                                                                                                class="mt-2"
                                                                                                                                style="float:left">
                                                                                                                                <a href="javascript:void(0)"
                                                                                                                                    ng-click="configureQuestionController.viewImageModal(question.rhs[lhsOptionIndex])"
                                                                                                                                    class="text-center alert alert-success">
                                                                                                                                    {{file.name}}
                                                                                                                                    Uploaded
                                                                                                                                    Successfully
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        class="fa fa-check fa-1x"></i>
                                                                                                                                </a>
                                                                                                                                <button
                                                                                                                                    class="btn btn-danger"
                                                                                                                                    type="button"
                                                                                                                                    style="cursor: pointer; margin-left: 6px;"
                                                                                                                                    ng-click="configureQuestionController.onRemoveFile(question.rhs[lhsOptionIndex], 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex, file.name)">
                                                                                                                                    Remove
                                                                                                                                    <i aria-hidden="true"
                                                                                                                                        ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                        class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                                </button>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <span
                                                                                                                            ng-if="!configureQuestionController.filePayload['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex].flow && question.rhs[lhsOptionIndex].mediaName">
                                                                                                                            <a href="javascript:void(0)"
                                                                                                                                ng-click="configureQuestionController.viewImageModal(question.rhs[lhsOptionIndex])"
                                                                                                                                class="text-center alert alert-info">
                                                                                                                                {{question.rhs[lhsOptionIndex].mediaName}}
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                                                            </a>
                                                                                                                            <button
                                                                                                                                class="btn btn-danger"
                                                                                                                                type="button"
                                                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                                                ng-click="configureQuestionController.onRemoveFile(question.rhs[lhsOptionIndex], 'sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex, file.name)">
                                                                                                                                Remove
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    ng-if="configureQuestionController.isFileRemoving['sec' + sectionIndex + 'que' + (section.questions.length - (questionIndex + 1)) + 'rhsOpt' + lhsOptionIndex][file.name]"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </button>
                                                                                                                        </span>
                                                                                                                    </div>
                                                                                                                </td>
                                                                                                                <td
                                                                                                                    class="action-cell">
                                                                                                                    <ul
                                                                                                                        class="action-item">
                                                                                                                        <li style="cursor: pointer;"
                                                                                                                            ng-if="question.lhs.length > 1">
                                                                                                                            <a class="action-icon delete-icon"
                                                                                                                                ng-click="configureQuestionController.removeOptionPair(lhsOptionIndex, section.questions.length - (questionIndex + 1), sectionIndex)"></a>
                                                                                                                        </li>
                                                                                                                        <li ng-click="configureQuestionController.addOptionPair(section.questions.length - (questionIndex + 1), sectionIndex)"
                                                                                                                            style="color: #007bff; font-size: 17px; cursor: pointer;"
                                                                                                                            ng-if="lhsOptionIndex === (question.lhs.length - 1)">
                                                                                                                            <i aria-hidden="true"
                                                                                                                                class="fa fa-plus-circle fa-2x">
                                                                                                                            </i>
                                                                                                                        </li>
                                                                                                                        &nbsp;
                                                                                                                        <li ng-click="configureQuestionController.moveRowOption(lhsOptionIndex, section.questions.length - (questionIndex + 1), sectionIndex, -1)"
                                                                                                                            style="color: #007bff; font-size: 17px; cursor: pointer;"
                                                                                                                            ng-if="$index !== 0">
                                                                                                                            <i aria-hidden="true"
                                                                                                                                class="fa fa-arrow-circle-up fa-2x">
                                                                                                                            </i>
                                                                                                                        </li>

                                                                                                                        <li ng-click="configureQuestionController.moveRowOption(lhsOptionIndex, section.questions.length - (questionIndex + 1), sectionIndex, 1)"
                                                                                                                            style="color: #007bff; font-size: 17px; cursor: pointer;"
                                                                                                                            ng-if="$index != question.lhs.length - 1 ">
                                                                                                                            <i aria-hidden="true"
                                                                                                                                class="fa fa-arrow-circle-down fa-2x">
                                                                                                                            </i>
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </td>
                                                                                                            </tr>
                                                                                                        </tbody>
                                                                                                    </table>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="row" ng-if="configureQuestionController.questionSetObj.questionSetTypeName == 'Scenario Based Quiz'">
                            <div class="col-12">
                                <form role="form" name="configureQuestionController.scenarioForm" id="scenarioForm"
                                    novalidate>
                                    <div class="accordion mt-10" id="scenarioAccordion">
                                        <div class="card"
                                            ng-style="(configureQuestionController.duplicateQuesArr.includes('scenario') ||
                                                configureQuestionController.duplicateOptionsArr.includes('scenario')) ?
                                                {'border-top-color': '#dc3545', 'border-left-color': '#dc3545', 'border-right-color': '#dc3545'} : {}">
                                            <div class="card-header pl-0"
                                                style="cursor: pointer; background: #d1ecf1;" ng-style="(configureQuestionController.duplicateQuesArr.includes('scenario') ||
                                                    configureQuestionController.duplicateOptionsArr.includes('scenario')) ?
                                                    {'border-bottom-color': '#dc3545'} : {}" data-toggle="collapse"
                                                data-target="#collapseTabScenario" aria-expanded="false"
                                                aria-controls="collapseTabScenario"
                                                id="headingScenario">
                                                <h5 class="mb-0">
                                                    <button class="btn btn-link"
                                                        style="text-decoration: none; min-width: max-content;"
                                                        type="button">
                                                        Scenario
                                                    </button>
                                                    <div class="alert alert-danger valid-feedback"
                                                        style="top: 10px;"
                                                        ng-if="(configureQuestionController.duplicateQuesArr.includes('scenario') &&
                                                            !configureQuestionController.duplicateOptionsArr.includes('scenario'))">
                                                        Duplicate question is not allowed
                                                    </div>
                                                    <div class="alert alert-danger valid-feedback"
                                                        style="top: 10px;"
                                                        ng-if="(!configureQuestionController.duplicateQuesArr.includes('scenario') &&
                                                            configureQuestionController.duplicateOptionsArr.includes('scenario'))">
                                                        Duplicate options are not allowed
                                                    </div>
                                                    <div class="alert alert-danger valid-feedback"
                                                        style="top: 10px;"
                                                        ng-if="(configureQuestionController.duplicateQuesArr.includes('scenario') &&
                                                            configureQuestionController.duplicateOptionsArr.includes('scenario'))">
                                                        Duplicate question and options are not allowed
                                                    </div>
                                                </h5>
                                            </div>
                                            <div id="collapseTabScenario" class="collapse"
                                                aria-labelledby="headingScenario"
                                                data-parent="#scenarioAccordion">
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <validate for='scenarioTitle'
                                                                    required-msg="Enter Scenario name">
                                                                    <label for='scenarioTitle'
                                                                        control-label>
                                                                        Scenario Title
                                                                    </label>
                                                                    <input type="text"
                                                                        class="form-control cst-form-control"
                                                                        form-control required
                                                                        name="scenarioTitle"
                                                                        id="sectionTitle"
                                                                        ng-model="configureQuestionController.scenario.scenarioTitle">
                                                                    <placeholder></placeholder>
                                                                </validate>
                                                            </div>
                                                            <div class="form-group">
                                                                <validate for='scenarioDescription'
                                                                    required-msg="Enter Scenario Description">
                                                                    <label for='scenarioDescription'
                                                                        control-label>
                                                                        Scenario Description
                                                                    </label>
                                                                    <textarea type="text" rows="3"
                                                                        class="form-control cst-form-control"
                                                                        form-control required
                                                                        name="scenarioDescription"
                                                                        id="scenarioDescription"
                                                                        ng-model="configureQuestionController.scenario.scenarioDescription">
                                                                    </textarea>
                                                                    <placeholder></placeholder>
                                                                </validate>
                                                            </div>
                                                            <div class="form-group">
                                                                <label for="uploadAudio" name='uploadAudio' class="control-label" style="white-space: initial;" control-label>Upload audio for scenario description?</label>
                                                                <label class="control control-radio">Yes
                                                                    <input value="YES" name="uploadAudio" form-control type="radio"
                                                                        ng-model="configureQuestionController.uploadAudio" ng-change="configureQuestionController.uploadAudioChanged()">
                                                                    <div class="control_indicator">
                                                                    </div>
                                                                </label>
                                                                <label class="control control-radio">No
                                                                    <input value="NO" name="uploadAudio" form-control type="radio"
                                                                        ng-model="configureQuestionController.uploadAudio" ng-change="configureQuestionController.uploadAudioChanged()">
                                                                    <div class="control_indicator">
                                                                    </div>
                                                                </label>
                                                            </div>
                                                            <div class="form-group" ng-if="configureQuestionController.uploadAudio == 'YES'"
                                                                flow-init="configureQuestionController.fileUploadOptions"
                                                                flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenarioAudio', 'AUDIO')"
                                                                flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenarioAudio')"
                                                                flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, configureQuestionController.scenario.audio, 'scenarioAudio')"
                                                                flow-file-error="configureQuestionController.onFileError($file, $message, 'scenarioAudio');">
                                                                <div
                                                                    style="display: inline-flex;">
                                                                    <button
                                                                        style="height: 33px;"
                                                                        type="button"
                                                                        flow-attrs="{accept:'audio/*'}"
                                                                        flow-btn
                                                                        class="btn btn-primary"
                                                                        ng-disabled="configureQuestionController.isFileUploading['scenarioAudio']">
                                                                        Upload Audio
                                                                    </button>
                                                                    <span class="text-danger p-1">
                                                                        <small class="text-info">[File size: Less than {{configureQuestionController.maxAudioSize/1000000}}MB]</small>
                                                                    </span>
                                                                </div>
                                                                <span class="text-danger"
                                                                    ng-if="configureQuestionController.filePayload['scenarioAudio'].isError">
                                                                    {{configureQuestionController.filePayload['scenarioAudio'].errorMessage}}
                                                                </span>
                                                                <div
                                                                    ng-repeat="file in configureQuestionController.filePayload['scenarioAudio'].flow.files | reverseIterate">
                                                                    <div ng-if="configureQuestionController.isFileUploadProcessing['scenarioAudio'][file.name]"
                                                                        style="margin-bottom: 0; width: max-content;"
                                                                        class="mt-2 alert alert-success ">
                                                                        <span
                                                                            class="text-center">{{file.name}}
                                                                            Uploading...
                                                                            <i aria-hidden="true"
                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                        </span>
                                                                    </div>
                                                                    <div ng-if="!configureQuestionController.isFileUploadProcessing['scenarioAuido'][file.name]"
                                                                        style="margin-bottom: 0; width: max-content;"
                                                                        class="mt-2"
                                                                        style="float:left">
                                                                        <span class="text-center alert alert-success">
                                                                            {{file.name}}
                                                                            Uploaded
                                                                            Successfully
                                                                            <i aria-hidden="true"
                                                                                class="fa fa-check fa-1x"></i>
                                                                        </span>
                                                                        <button
                                                                            class="btn btn-danger"
                                                                            type="button"
                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                            ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario.audio, 'scenarioAudio', file.name)">
                                                                            Remove <i
                                                                                aria-hidden="true"
                                                                                ng-if="configureQuestionController.isFileRemoving['scenarioAudio'][file.name]"
                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <span
                                                                    ng-if="!configureQuestionController.filePayload['scenarioAudio'].flow && configureQuestionController.scenario.audio.mediaName">
                                                                    <span class="text-center alert alert-success">
                                                                        {{configureQuestionController.scenario.audio.mediaName}}
                                                                        <i aria-hidden="true"
                                                                            class="fa fa-check fa-1x"></i>
                                                                    </span>
                                                                    <button
                                                                        class="btn btn-danger"
                                                                        type="button"
                                                                        style="cursor: pointer; margin-left: 6px;"
                                                                        ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario.audio, 'scenarioAudio', file.name)">
                                                                        Remove
                                                                        <i aria-hidden="true"
                                                                            ng-if="configureQuestionController.isFileRemoving['scenarioAudio'][file.name]"
                                                                            class="fa fa-cog fa-spin fa-1x"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                            <div class="form-group" ng-if="configureQuestionController.scenario.audio.mediaId">
                                                                <label for="audioControls" name='audioControls' class="control-label" style="white-space: initial;" control-label>Show audio with controls?</label>
                                                                <label class="control control-radio">Yes
                                                                    <input value="YES" name="audioControls" form-control type="radio"
                                                                        ng-model="configureQuestionController.audioControls" ng-change="configureQuestionController.audioControlChanged()">
                                                                    <div class="control_indicator">
                                                                    </div>
                                                                </label>
                                                                <label class="control control-radio">No
                                                                    <input value="NO" name="audioControls" form-control type="radio"
                                                                        ng-model="configureQuestionController.audioControls" ng-change="configureQuestionController.audioControlChanged()">
                                                                    <div class="control_indicator">
                                                                    </div>
                                                                </label>
                                                            </div>
                                                            <div class="form-group">
                                                               <label for="mediaType" name='mediaType' class="control-label" control-label>Media Type</label>
                                                                <label class="control control-radio">Video
                                                                    <input value="VIDEO" name="mediaType" form-control type="radio"
                                                                        ng-model="configureQuestionController.scenario.mediaType" ng-change="configureQuestionController.mediaTypeChanged()">
                                                                    <div class="control_indicator">
                                                                    </div>
                                                                </label>
                                                                <label class="control control-radio">Image
                                                                    <input value="IMAGE" name="mediaType" form-control type="radio"
                                                                        ng-model="configureQuestionController.scenario.mediaType" ng-change="configureQuestionController.mediaTypeChanged()">
                                                                    <div class="control_indicator">
                                                                    </div>
                                                                </label>
                                                            </div>
                                                            <div class="form-group" ng-if="configureQuestionController.scenario.mediaType == 'IMAGE'"
                                                                flow-init="configureQuestionController.fileUploadOptions"
                                                                flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenario', 'IMAGE')"
                                                                flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenario')"
                                                                flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, configureQuestionController.scenario, 'scenario')"
                                                                flow-file-error="configureQuestionController.onFileError($file, $message, 'scenario');">
                                                                <div
                                                                    style="display: inline-flex;">
                                                                    <button
                                                                        style="height: 33px;"
                                                                        type="button"
                                                                        flow-attrs="{accept:'image/*'}"
                                                                        flow-btn
                                                                        class="btn btn-primary"
                                                                        ng-disabled="configureQuestionController.isFileUploading['scenario']">
                                                                        Upload Image
                                                                    </button>
                                                                    <span class="text-danger p-1" ng-if="configureQuestionController.scenario.mediaType == 'IMAGE'">
                                                                        <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                    </span>
                                                                </div>
                                                                <span class="text-danger"
                                                                    ng-if="configureQuestionController.filePayload['scenario'].isError">
                                                                    {{configureQuestionController.filePayload['scenario'].errorMessage}}
                                                                </span>
                                                                <div
                                                                    ng-repeat="file in configureQuestionController.filePayload['scenario'].flow.files | reverseIterate">
                                                                    <div ng-if="configureQuestionController.isFileUploadProcessing['scenario'][file.name]"
                                                                        style="margin-bottom: 0; width: max-content;"
                                                                        class="mt-2 alert alert-success ">
                                                                        <span
                                                                            class="text-center">{{file.name}}
                                                                            Uploading...
                                                                            <i aria-hidden="true"
                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                        </span>
                                                                    </div>
                                                                    <div ng-if="!configureQuestionController.isFileUploadProcessing['scenario'][file.name]"
                                                                        style="margin-bottom: 0; width: max-content;"
                                                                        class="mt-2"
                                                                        style="float:left">
                                                                        <a href="javascript:void(0)"
                                                                            ng-click="configureQuestionController.viewImageModal(configureQuestionController.scenario)"
                                                                            class="text-center alert alert-success">
                                                                            {{file.name}}
                                                                            Uploaded
                                                                            Successfully
                                                                            <i aria-hidden="true"
                                                                                class="fa fa-check fa-1x"></i>
                                                                        </a>
                                                                        <button
                                                                            class="btn btn-danger"
                                                                            type="button"
                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                            ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario, 'scenario', file.name)">
                                                                            Remove <i
                                                                                aria-hidden="true"
                                                                                ng-if="configureQuestionController.isFileRemoving['scenario'][file.name]"
                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <span
                                                                    ng-if="!configureQuestionController.filePayload['scenario'].flow && configureQuestionController.scenario.mediaName">
                                                                    <a href="javascript:void(0)"
                                                                        ng-click="configureQuestionController.viewImageModal(configureQuestionController.scenario)"
                                                                        class="text-center alert alert-info">
                                                                        {{configureQuestionController.scenario.mediaName}}
                                                                        <i aria-hidden="true"
                                                                            class="fa fa-check fa-1x"></i>
                                                                    </a>
                                                                    <button
                                                                        class="btn btn-danger"
                                                                        type="button"
                                                                        style="cursor: pointer; margin-left: 6px;"
                                                                        ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario, 'scenario', file.name)">
                                                                        Remove
                                                                        <i aria-hidden="true"
                                                                            ng-if="configureQuestionController.isFileRemoving['scenario'][file.name]"
                                                                            class="fa fa-cog fa-spin fa-1x"></i>
                                                                    </button>
                                                                </span>
                                                            </div>
                                                            <div ng-if="configureQuestionController.scenario.mediaType == 'VIDEO'">
                                                                <div class="form-group"
                                                                    flow-init="configureQuestionController.fileUploadOptions"
                                                                    flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenario', 'VIDEO')"
                                                                    flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenario')"
                                                                    flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, configureQuestionController.scenario, 'scenario')"
                                                                    flow-file-error="configureQuestionController.onFileError($file, $message, 'scenario');">
                                                                    <div
                                                                        style="display: inline-flex;">
                                                                        <button
                                                                            style="height: 33px;"
                                                                            type="button"
                                                                            flow-attrs="{accept:'video/*'}"
                                                                            flow-btn
                                                                            class="btn btn-primary"
                                                                            ng-disabled="configureQuestionController.isFileUploading['scenario']">
                                                                            Upload Video
                                                                        </button>
                                                                        <span class="text-danger p-1" ng-if="configureQuestionController.scenario.mediaType == 'VIDEO'">
                                                                            <small class="text-info">[File size: Less than {{configureQuestionController.maxVideoSize/1000000}}MB]</small>
                                                                        </span>
                                                                    </div>
                                                                    <span class="text-danger"
                                                                        ng-if="configureQuestionController.filePayload['scenario'].isError">
                                                                        {{configureQuestionController.filePayload['scenario'].errorMessage}}
                                                                    </span>
                                                                    <div
                                                                        ng-repeat="file in configureQuestionController.filePayload['scenario'].flow.files | reverseIterate">
                                                                        <div ng-if="configureQuestionController.isFileUploadProcessing['scenario'][file.name]"
                                                                            style="margin-bottom: 0; width: max-content;"
                                                                            class="mt-2 alert alert-success ">
                                                                            <span
                                                                                class="text-center">{{file.name}}
                                                                                Uploading...
                                                                                <i aria-hidden="true"
                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                            </span>
                                                                        </div>
                                                                        <div ng-if="!configureQuestionController.isFileUploadProcessing['scenario'][file.name]"
                                                                            style="margin-bottom: 0; width: max-content;"
                                                                            class="mt-2"
                                                                            style="float:left">
                                                                            <span class="text-center alert alert-success">
                                                                                {{file.name}}
                                                                                Uploaded
                                                                                Successfully
                                                                                <i aria-hidden="true"
                                                                                    class="fa fa-check fa-1x"></i>
                                                                            </span>
                                                                            <button
                                                                                class="btn btn-danger"
                                                                                type="button"
                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario, 'scenario', file.name);
                                                                                configureQuestionController.onRemoveFile(configureQuestionController.scenario.transcript, 'scenariotranscript', configureQuestionController.scenario.transcript.mediaName)">
                                                                                Remove <i
                                                                                    aria-hidden="true"
                                                                                    ng-if="configureQuestionController.isFileRemoving['scenario'][file.name]"
                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <span
                                                                        ng-if="!configureQuestionController.filePayload['scenario'].flow && configureQuestionController.scenario.mediaName">
                                                                        <span class="text-center alert alert-info">
                                                                            {{configureQuestionController.scenario.mediaName}}
                                                                            <i aria-hidden="true"
                                                                                class="fa fa-check fa-1x"></i>
                                                                        </span>
                                                                        <button
                                                                            class="btn btn-danger"
                                                                            type="button"
                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                            ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario, 'scenario', file.name);
                                                                            configureQuestionController.onRemoveFile(configureQuestionController.scenario.transcript, 'scenariotranscript', configureQuestionController.scenario.transcript.mediaName)">
                                                                            Remove
                                                                            <i aria-hidden="true"
                                                                                ng-if="configureQuestionController.isFileRemoving['scenario'][file.name]"
                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                                <div class="form-group" ng-if="configureQuestionController.scenario.mediaId != null"
                                                                    flow-init="configureQuestionController.fileUploadOptions"
                                                                    flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenariotranscript', 'PDF')"
                                                                    flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenariotranscript')"
                                                                    flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, configureQuestionController.scenario.transcript, 'scenariotranscript')"
                                                                    flow-file-error="configureQuestionController.onFileError($file, $message, 'scenariotranscript');">
                                                                    <div
                                                                        style="display: inline-flex;">
                                                                        <button
                                                                            style="height: 33px;"
                                                                            type="button"
                                                                            flow-attrs="{accept:'pdf/*'}"
                                                                            flow-btn
                                                                            class="btn btn-primary"
                                                                            ng-disabled="configureQuestionController.isFileUploading['scenariotranscript']">
                                                                            Upload Transcript
                                                                        </button>
                                                                        <span class="text-danger p-1" ng-if="configureQuestionController.scenario.mediaId != null">
                                                                            <small class="text-info">[File size: Less than {{configureQuestionController.maxPdfSize/1000000}}MB]</small>
                                                                        </span>
                                                                    </div>
                                                                    <span class="text-danger"
                                                                        ng-if="configureQuestionController.filePayload['scenariotranscript'].isError">
                                                                        {{configureQuestionController.filePayload['scenariotranscript'].errorMessage}}
                                                                    </span>
                                                                    <div
                                                                        ng-repeat="file in configureQuestionController.filePayload['scenariotranscript'].flow.files | reverseIterate">
                                                                        <div ng-if="configureQuestionController.isFileUploadProcessing['scenariotranscript'][file.name]"
                                                                            style="margin-bottom: 0; width: max-content;"
                                                                            class="mt-2 alert alert-success ">
                                                                            <span
                                                                                class="text-center">{{file.name}}
                                                                                Uploading...
                                                                                <i aria-hidden="true"
                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                            </span>
                                                                        </div>
                                                                        <div ng-if="!configureQuestionController.isFileUploadProcessing['scenariotranscript'][file.name]"
                                                                            style="margin-bottom: 0; width: max-content;"
                                                                            class="mt-2"
                                                                            style="float:left">
                                                                            <span class="text-center alert alert-success">
                                                                                {{file.name}}
                                                                                Uploaded
                                                                                Successfully
                                                                                <i aria-hidden="true"
                                                                                    class="fa fa-check fa-1x"></i>
                                                                            </span>
                                                                            <button
                                                                                class="btn btn-danger"
                                                                                type="button"
                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario.transcript, 'scenariotranscript', file.name)">
                                                                                Remove <i
                                                                                    aria-hidden="true"
                                                                                    ng-if="configureQuestionController.isFileRemoving['scenariotranscript'][file.name]"
                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <span
                                                                        ng-if="!configureQuestionController.filePayload['scenariotranscript'].flow && configureQuestionController.scenario.transcript.mediaName">
                                                                        <span class="text-center alert alert-info">
                                                                            {{configureQuestionController.scenario.transcript.mediaName}}
                                                                            <i aria-hidden="true"
                                                                                class="fa fa-check fa-1x"></i>
                                                                        </span>
                                                                        <button
                                                                            class="btn btn-danger"
                                                                            type="button"
                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                            ng-click="configureQuestionController.onRemoveFile(configureQuestionController.scenario.transcript, 'scenariotranscript', file.name)">
                                                                            Remove
                                                                            <i aria-hidden="true"
                                                                                ng-if="configureQuestionController.isFileRemoving['scenariotranscript'][file.name]"
                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                        </button>
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mt-20">
                                                        <label class="card-sub-title">
                                                            Questions
                                                        </label>
                                                        <button type="button" class="btn btn-primary"
                                                            ng-click="configureQuestionController.addQuestion()">
                                                            Add Question
                                                        </button>
                                                    </div>
                                                    <div class="accordion mt-10" id="scenarioQuestionsAccordion">
                                                        <div
                                                            ng-repeat="(questionIndex, question) in configureQuestionController.scenario.scenarioQuestions | reverseIterate">
                                                            <div class="card"
                                                                ng-style="configureQuestionController.duplicateQuesArr.includes('secnarioqueId' + question.id) || 
                                                                    configureQuestionController.duplicateOptionsArr.includes('scenarioqueId' + question.id) ? 
                                                                    {'border-top-color': '#dc3545', 'border-left-color': '#dc3545', 'border-right-color': '#dc3545'} : {}">
                                                                <div class="card-header pl-0"
                                                                    style="cursor: pointer; padding: 0;"
                                                                    ng-style="configureQuestionController.duplicateQuesArr.includes('scenarioqueId' + question.id) || 
                                                                        configureQuestionController.duplicateOptionsArr.includes('scenarioqueId' + question.id) ? 
                                                                        {'border-bottom-color': '#dc3545'} : {}"
                                                                    data-toggle="collapse"
                                                                    data-target="#collapseTabScenarioque{{questionIndex}}"
                                                                    aria-expanded="false"
                                                                    aria-controls="collapseTabScenarioque{{questionIndex}}"
                                                                    id="headingScenarioque{{questionIndex}}">
                                                                    <h5 class="mb-0">
                                                                        <button class="btn btn-link"
                                                                            style="text-decoration: none; min-width: max-content;"
                                                                            type="button">
                                                                            #{{configureQuestionController.scenario.scenarioQuestions.length -
                                                                            questionIndex}})
                                                                            {{question.questionTitle}}
                                                                            <span
                                                                                ng-repeat="(opIndex, op) in question.options | filter : { isCorrect : true }"
                                                                                style="color: green;">
                                                                                {{(opIndex === 0 ? '- ' : ', ') +
                                                                                op.optionTitle}}
                                                                            </span>
                                                                        </button>
                                                                        <div class="alert alert-danger valid-feedback"
                                                                            style="top: 0;"
                                                                            ng-if="configureQuestionController.duplicateQuesArr.includes('scenarioqueId' + question.id) && !configureQuestionController.duplicateOptionsArr.includes('scenarioqueId' + question.id)">
                                                                            Duplicate question is not allowed
                                                                        </div>
                                                                        <div class="alert alert-danger valid-feedback"
                                                                            style="top: 0;"
                                                                            ng-if="configureQuestionController.duplicateOptionsArr.includes('scenarioqueId' + question.id) && !configureQuestionController.duplicateQuesArr.includes('scenarioqueId' + question.id)">
                                                                            Duplicate options are not allowed
                                                                        </div>
                                                                        <div class="alert alert-danger valid-feedback"
                                                                            style="top: 0;"
                                                                            ng-if="configureQuestionController.duplicateQuesArr.includes('scenarioqueId' + question.id) && configureQuestionController.duplicateOptionsArr.includes('scenarioqueId' + question.id)">
                                                                            Duplicate question and options are not
                                                                            allowed
                                                                        </div>
                                                                    </h5>
                                                                </div>
                                                                <!-- ng-class="{'show' : questionIndex === 0}" -->
                                                                <div id="collapseTabScenarioque{{questionIndex}}"
                                                                    class="collapse"
                                                                    ng-class="{'show' : questionIndex === 0}"
                                                                    aria-labelledby="headingScenarioque{{questionIndex}}"
                                                                    data-parent="#scenarioQuestionsAccordion">
                                                                    <div class="card-body">
                                                                        <div class="row">
                                                                            <div class="col-9">
                                                                                <div class="form-group">
                                                                                    <validate
                                                                                        for='questionTitleScenarioque{{questionIndex}}'
                                                                                        required-msg="Enter Question name">
                                                                                        <label
                                                                                            for='questionTitleScenarioque{{questionIndex}}'
                                                                                            control-label>
                                                                                            Question Title
                                                                                        </label>
                                                                                        <input type="text"
                                                                                            ng-pattern="/$/"
                                                                                            class="form-control cst-form-control"
                                                                                            form-control required
                                                                                            name="questionTitleScenarioque{{questionIndex}}"
                                                                                            id="questionTitleScenarioque{{questionIndex}}"
                                                                                            ng-model="question.questionTitle">
                                                                                        <placeholder></placeholder>
                                                                                    </validate>
                                                                                </div>
                                                                                <div ng-if="['SINGLE_SELECT'].includes(question.questionType)"
                                                                                    class="form-group"
                                                                                    flow-init="configureQuestionController.fileUploadOptions"
                                                                                    flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)), 'IMAGE')"
                                                                                    flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)))"
                                                                                    flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, question, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)))"
                                                                                    flow-file-error="configureQuestionController.onFileError($file, $message, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)));">
                                                                                    <div
                                                                                        style="display: inline-flex;">
                                                                                        <button
                                                                                            style="height: 33px;"
                                                                                            type="button"
                                                                                            flow-attrs="{accept:'image/*'}"
                                                                                            flow-btn
                                                                                            class="btn btn-primary"
                                                                                            ng-disabled="configureQuestionController.isFileUploading['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))]">
                                                                                            Upload Image
                                                                                        </button>
                                                                                        <span class="text-danger p-1" ng-if="['SINGLE_SELECT'].includes(question.questionType)">
                                                                                            <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                        </span>
                                                                                    </div>
                                                                                    <span class="text-danger"
                                                                                        ng-if="configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))].isError">
                                                                                        {{configureQuestionController.filePayload['scenarioque'+ (configureQuestionController.scenario.scenarioQuestions.length- (questionIndex + 1))].errorMessage}}
                                                                                    </span>
                                                                                    <div
                                                                                        ng-repeat="file in configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))].flow.files | reverseIterate">
                                                                                        <div ng-if="configureQuestionController.isFileUploadProcessing['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))][file.name]"
                                                                                            style="margin-bottom: 0;"
                                                                                            class="mt-2 alert alert-success ">
                                                                                            <span
                                                                                                class="text-center">{{file.name}}
                                                                                                Uploading...
                                                                                                <i aria-hidden="true"
                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                            </span>
                                                                                        </div>
                                                                                        <div ng-if="!configureQuestionController.isFileUploadProcessing['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))][file.name]"
                                                                                            style="margin-bottom: 0;"
                                                                                            class="mt-2"
                                                                                            style="float:left">
                                                                                            <a href="javascript:void(0)"
                                                                                                ng-click="configureQuestionController.viewImageModal(question)"
                                                                                                class="text-center alert alert-success">
                                                                                                {{file.name}}
                                                                                                Uploaded
                                                                                                Successfully
                                                                                                <i aria-hidden="true"
                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                            </a>
                                                                                            <button
                                                                                                class="btn btn-danger"
                                                                                                type="button"
                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                ng-click="configureQuestionController.onRemoveFile(question, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)), file.name)">
                                                                                                Remove <i
                                                                                                    aria-hidden="true"
                                                                                                    ng-if="configureQuestionController.isFileRemoving['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))][file.name]"
                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                            </button>
                                                                                        </div>
                                                                                    </div>
                                                                                    <span
                                                                                        ng-if="!configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))].flow && question.mediaName">
                                                                                        <a href="javascript:void(0)"
                                                                                            ng-click="configureQuestionController.viewImageModal(question)"
                                                                                            class="text-center alert alert-info">
                                                                                            {{question.mediaName}}
                                                                                            <i aria-hidden="true"
                                                                                                class="fa fa-check fa-1x"></i>
                                                                                        </a>
                                                                                        <button
                                                                                            class="btn btn-danger"
                                                                                            type="button"
                                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                                            ng-click="configureQuestionController.onRemoveFile(question, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)), file.name)">
                                                                                            Remove
                                                                                            <i aria-hidden="true"
                                                                                                ng-if="configureQuestionController.isFileRemoving['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))][file.name]"
                                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                                        </button>
                                                                                    </span>
                                                                                </div>
                                                                                <div ng-if="['SINGLE_SELECT'].includes(question.questionType) && configureQuestionController.selectedTestConfig.provideInteractiveFeedbackAfterEachQuestion">
                                                                                    <div class="form-group">
                                                                                        <validate
                                                                                            for='correctAnswerDescriptionScenarioque{{questionIndex}}'
                                                                                            required-msg="Enter Correct Answer Description">
                                                                                            <label
                                                                                                for='correctAnswerDescriptionScenarioque{{questionIndex}}'
                                                                                                control-label
                                                                                                style="white-space: initial;">
                                                                                                Correct Answer
                                                                                                Description
                                                                                            </label>
                                                                                            <textarea type="text"
                                                                                                rows="2"
                                                                                                class="form-control cst-form-control"
                                                                                                form-control
                                                                                                required
                                                                                                name="correctAnswerDescriptionScenarioque{{questionIndex}}"
                                                                                                id="correctAnswerDescriptionScenarioque{{questionIndex}}"
                                                                                                ng-model="question.correctAnswerDescription">
                                                                                        </textarea>
                                                                                            <placeholder>
                                                                                            </placeholder>
                                                                                        </validate>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <validate
                                                                                            for='incorrectAnswerDescriptionScenarioque{{questionIndex}}'
                                                                                            required-msg="Enter Incorrect Answer Description">
                                                                                            <label
                                                                                                for='incorrectAnswerDescriptionScenarioque{{questionIndex}}'
                                                                                                control-label
                                                                                                style="white-space: initial;">
                                                                                                Incorrect Answer
                                                                                                Description
                                                                                            </label>
                                                                                            <textarea type="text"
                                                                                                rows="2"
                                                                                                class="form-control cst-form-control"
                                                                                                form-control
                                                                                                required
                                                                                                name="incorrectAnswerDescriptionScenarioque{{questionIndex}}"
                                                                                                id="incorrectAnswerDescriptionScenarioque{{questionIndex}}"
                                                                                                ng-model="question.incorrectAnswerDescription">
                                                                                        </textarea>
                                                                                            <placeholder>
                                                                                            </placeholder>
                                                                                        </validate>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <validate
                                                                                            for='interactiveFeedbackContentScenarioque{{questionIndex}}'
                                                                                            required-msg="Enter Interactive Feedback Content">
                                                                                            <label
                                                                                                for='interactiveFeedbackContentScenarioque{{questionIndex}}'
                                                                                                control-label
                                                                                                style="white-space: initial;">
                                                                                                Interactive Feedback
                                                                                                Content
                                                                                            </label>
                                                                                            <textarea type="text"
                                                                                                rows="2"
                                                                                                class="form-control cst-form-control"
                                                                                                form-control
                                                                                                name="interactiveFeedbackContentScenarioque{{questionIndex}}"
                                                                                                id="interactiveFeedbackContentScenarioque{{questionIndex}}"
                                                                                                ng-model="question.interactiveFeedbackContent">
                                                                                        </textarea>
                                                                                            <placeholder>
                                                                                            </placeholder>
                                                                                        </validate>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-3">
                                                                                <button type="button"
                                                                                    class="btn btn-danger"
                                                                                    style="height: 33px;"
                                                                                    ng-click="configureQuestionController.removeQuestion(configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))">
                                                                                    Remove Question
                                                                                </button>
                                                                            </div>
                                                                            <div class="col-9">
                                                                                <div ng-if="['SINGLE_SELECT'].includes(question.questionType)">
                                                                                    <div class="form-group"
                                                                                        style="margin-bottom: 0; margin-top: 1rem;">
                                                                                        <label
                                                                                            class="card-sub-title">
                                                                                            Options
                                                                                        </label>
                                                                                    </div>
                                                                                    <div class="row"
                                                                                        ng-if="question.options.length > 0">
                                                                                        <div class="col-12 md-15">
                                                                                            <div class="cst-table table-responsive"
                                                                                                style="overflow: auto;max-height: calc(100vh - 169px);">
                                                                                                <table
                                                                                                    class="table table-sm table-striped filter-table table-fixed table-bordered header-fixed">
                                                                                                    <thead
                                                                                                        class="cst-thead">
                                                                                                        <tr>
                                                                                                            <th
                                                                                                                style="width: 5%">
                                                                                                                #
                                                                                                            </th>
                                                                                                            <th
                                                                                                                style="width: 40%">
                                                                                                                Option
                                                                                                                Title
                                                                                                            </th>
                                                                                                            <th
                                                                                                                style="width: 35%">
                                                                                                                Feedback
                                                                                                            </th>
                                                                                                            <th
                                                                                                                style="width: 10%">
                                                                                                                Is
                                                                                                                Correct
                                                                                                            </th>
                                                                                                            <th
                                                                                                                style="width: 10%">
                                                                                                                Action
                                                                                                            </th>
                                                                                                        </tr>
                                                                                                    </thead>
                                                                                                    <tbody
                                                                                                        class="cst-tbody">
                                                                                                        <tr ng-repeat="(optionIndex, option) in question.options"
                                                                                                            ng-if="question.options.length > 0">
                                                                                                            <td>{{$index+1}}
                                                                                                            </td>
                                                                                                            <td
                                                                                                                class="form-group">
                                                                                                                <validate
                                                                                                                    for='scenarioque{{questionIndex}}opt{{optionIndex}}'
                                                                                                                    required-msg="Enter option title">
                                                                                                                    <input
                                                                                                                        type="text"
                                                                                                                        ng-pattern="/$/"
                                                                                                                        class="form-control cst-form-control"
                                                                                                                        style="width: 100%;"
                                                                                                                        form-control
                                                                                                                        name="scenarioque{{questionIndex}}opt{{optionIndex}}"
                                                                                                                        id="scenarioque{{questionIndex}}opt{{optionIndex}}"
                                                                                                                        required
                                                                                                                        ng-model="option.optionTitle">
                                                                                                                    <placeholder>
                                                                                                                    </placeholder>
                                                                                                                </validate>

                                                                                                                <div class="form-group"
                                                                                                                    style="margin-top: 4px;"
                                                                                                                    flow-init="configureQuestionController.fileUploadOptions"
                                                                                                                    flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex, 'IMAGE')"
                                                                                                                    flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex)"
                                                                                                                    flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, option, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex)"
                                                                                                                    flow-file-error="configureQuestionController.onFileError($file, $message, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex);">
                                                                                                                    <div
                                                                                                                        style="display: inline-flex;">
                                                                                                                        <button
                                                                                                                            style="height: 33px;"
                                                                                                                            type="button"
                                                                                                                            flow-attrs="{accept:'image/*'}"
                                                                                                                            flow-btn
                                                                                                                            class="btn btn-primary"
                                                                                                                            ng-disabled="configureQuestionController.isFileUploading['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex]">
                                                                                                                            Upload
                                                                                                                            Image
                                                                                                                        </button>
                                                                                                                        <span class="text-danger p-1">
                                                                                                                            <small class="text-info">[File size: Less than {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                                                        </span>
                                                                                                                    </div>
                                                                                                                    <span
                                                                                                                        class="text-danger"
                                                                                                                        ng-if="configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex].isError">
                                                                                                                        {{configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex].errorMessage}}
                                                                                                                    </span>
                                                                                                                    <div
                                                                                                                        ng-repeat="file in configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex].flow.files | reverseIterate">
                                                                                                                        <div ng-if="configureQuestionController.isFileUploadProcessing['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                            style="margin-bottom: 0;"
                                                                                                                            class="mt-2 alert alert-success ">
                                                                                                                            <span
                                                                                                                                class="text-center">{{file.name}}
                                                                                                                                Uploading...
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                        <div ng-if="!configureQuestionController.isFileUploadProcessing['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                            style="margin-bottom: 0;"
                                                                                                                            class="mt-2"
                                                                                                                            style="float:left">
                                                                                                                            <a href="javascript:void(0)"
                                                                                                                                ng-click="configureQuestionController.viewImageModal(option)"
                                                                                                                                class="text-center alert alert-success">
                                                                                                                                {{file.name}}
                                                                                                                                <br>
                                                                                                                                Uploaded Successfully
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                                                            </a>
                                                                                                                            <button
                                                                                                                                class="btn btn-danger mt-1"
                                                                                                                                type="button"
                                                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                                                ng-click="configureQuestionController.onRemoveFile(option, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex, file.name)">
                                                                                                                                Remove
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    ng-if="configureQuestionController.isFileRemoving['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </button>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <span
                                                                                                                        ng-if="!configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex].flow && option.mediaName">
                                                                                                                        <a href="javascript:void(0)"
                                                                                                                            ng-click="configureQuestionController.viewImageModal(option)"
                                                                                                                            class="text-center alert alert-info">
                                                                                                                            {{option.mediaName}}
                                                                                                                            <i aria-hidden="true"
                                                                                                                                class="fa fa-check fa-1x"></i>
                                                                                                                        </a>
                                                                                                                        <button
                                                                                                                            class="btn btn-danger"
                                                                                                                            type="button"
                                                                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                                                                            ng-click="configureQuestionController.onRemoveFile(option, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex, file.name)">
                                                                                                                            Remove
                                                                                                                            <i aria-hidden="true"
                                                                                                                                ng-if="configureQuestionController.isFileRemoving['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex][file.name]"
                                                                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                        </button>
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                            </td>
                                                                                                            <td class="form-group">
                                                                                                                <validate
                                                                                                                    for='scenarioque{{questionIndex}}opt{{optionIndex}}feedback'>
                                                                                                                    <input
                                                                                                                        type="text"
                                                                                                                        ng-pattern="/$/"
                                                                                                                        class="form-control cst-form-control"
                                                                                                                        style="width: 100%;"
                                                                                                                        form-control
                                                                                                                        name="scenarioque{{questionIndex}}opt{{optionIndex}}feedback"
                                                                                                                        id="scenarioque{{questionIndex}}opt{{optionIndex}}feedback"
                                                                                                                        ng-model="option.optionFeedback.feedbackValue">
                                                                                                                    <placeholder>
                                                                                                                    </placeholder>
                                                                                                                </validate>
                                                                                                                <div class="form-group"
                                                                                                                    style="margin-top: 4px;"
                                                                                                                    flow-init="configureQuestionController.fileUploadOptions"
                                                                                                                    flow-file-added="configureQuestionController.onFileAdded($file, $event, $flow, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback', 'IMAGE')"
                                                                                                                    flow-files-submitted="configureQuestionController.onFileSubmitted($files, $event, $flow, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback')"
                                                                                                                    flow-file-success="configureQuestionController.onFileSuccess($file, $message, $flow, option.optionFeedback, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback')"
                                                                                                                    flow-file-error="configureQuestionController.onFileError($file, $message, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback');">
                                                                                                                    <div
                                                                                                                        style="display: inline-flex;">
                                                                                                                        <button
                                                                                                                            style="height: 33px;"
                                                                                                                            type="button"
                                                                                                                            flow-attrs="{accept:'image/*'}"
                                                                                                                            flow-btn
                                                                                                                            class="btn btn-primary"
                                                                                                                            ng-disabled="configureQuestionController.isFileUploading['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback']">
                                                                                                                            Upload
                                                                                                                            Image
                                                                                                                        </button>
                                                                                                                        <span class="text-danger p-1">
                                                                                                                            <small class="text-info">[File size: <= {{configureQuestionController.maxImageSize/1000000}}MB]</small>
                                                                                                                        </span>
                                                                                                                    </div>
                                                                                                                    <span
                                                                                                                        class="text-danger"
                                                                                                                        ng-if="configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'].isError">
                                                                                                                        {{configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'].errorMessage}}
                                                                                                                    </span>
                                                                                                                    <div
                                                                                                                        ng-repeat="file in configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'].flow.files | reverseIterate">
                                                                                                                        <div ng-if="configureQuestionController.isFileUploadProcessing['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'][file.name]"
                                                                                                                            style="margin-bottom: 0;"
                                                                                                                            class="mt-2 alert alert-success ">
                                                                                                                            <span
                                                                                                                                class="text-center">{{file.name}}
                                                                                                                                Uploading...
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </span>
                                                                                                                        </div>
                                                                                                                        <div ng-if="!configureQuestionController.isFileUploadProcessing['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'][file.name]"
                                                                                                                            style="margin-bottom: 0;"
                                                                                                                            class="mt-2"
                                                                                                                            style="float:left">
                                                                                                                            <a href="javascript:void(0)"
                                                                                                                                ng-click="configureQuestionController.viewImageModal(option.optionFeedback)"
                                                                                                                                class="text-center alert alert-success">
                                                                                                                                {{file.name}}
                                                                                                                                <br>
                                                                                                                                Uploaded Successfully
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    class="fa fa-check fa-1x"></i>
                                                                                                                            </a>
                                                                                                                            <button
                                                                                                                                class="btn btn-danger mt-1"
                                                                                                                                type="button"
                                                                                                                                style="cursor: pointer; margin-left: 6px;"
                                                                                                                                ng-click="configureQuestionController.onRemoveFile(option.optionFeedback, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback', file.name)">
                                                                                                                                Remove
                                                                                                                                <i aria-hidden="true"
                                                                                                                                    ng-if="configureQuestionController.isFileRemoving['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'][file.name]"
                                                                                                                                    class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                            </button>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                    <span
                                                                                                                        ng-if="!configureQuestionController.filePayload['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'].flow && option.optionFeedback.mediaName">
                                                                                                                        <a href="javascript:void(0)"
                                                                                                                            ng-click="configureQuestionController.viewImageModal(option.optionFeedback)"
                                                                                                                            class="text-center alert alert-info">
                                                                                                                            {{option.optionFeedback.mediaName}}
                                                                                                                            <i aria-hidden="true"
                                                                                                                                class="fa fa-check fa-1x"></i>
                                                                                                                        </a>
                                                                                                                        <button
                                                                                                                            class="btn btn-danger"
                                                                                                                            type="button"
                                                                                                                            style="cursor: pointer; margin-left: 6px;"
                                                                                                                            ng-click="configureQuestionController.onRemoveFile(option.optionFeedback, 'scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback', file.name)">
                                                                                                                            Remove
                                                                                                                            <i aria-hidden="true"
                                                                                                                                ng-if="configureQuestionController.isFileRemoving['scenarioque' + (configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1)) + 'opt' + optionIndex + 'feedback'][file.name]"
                                                                                                                                class="fa fa-cog fa-spin fa-1x"></i>
                                                                                                                        </button>
                                                                                                                    </span>
                                                                                                                </div>
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <input
                                                                                                                    ng-value="true"
                                                                                                                    name="isCorrectScenarioque{{questionIndex}}"
                                                                                                                    form-control
                                                                                                                    type="radio"
                                                                                                                    required
                                                                                                                    ng-if="question.questionType === 'SINGLE_SELECT'"
                                                                                                                    ng-change="configureQuestionController.setIsCorrectValue(optionIndex, configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))"
                                                                                                                    ng-model="option.isCorrect">
                                                                                                            </td>
                                                                                                            <td
                                                                                                                class="action-cell">
                                                                                                                <ul
                                                                                                                    class="action-item">
                                                                                                                    <li style="cursor: pointer;"
                                                                                                                        ng-if="question.options.length > 1">
                                                                                                                        <a class="action-icon delete-icon"
                                                                                                                            ng-click="configureQuestionController.removeOption(optionIndex, configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))"></a>
                                                                                                                    </li>
                                                                                                                    <li ng-click="configureQuestionController.addOption(configureQuestionController.scenario.scenarioQuestions.length - (questionIndex + 1))"
                                                                                                                        style="color: #007bff; font-size: 17px; cursor: pointer;"
                                                                                                                        ng-if="optionIndex === (question.options.length - 1)">
                                                                                                                        <i aria-hidden="true"
                                                                                                                            class="fa fa-plus-circle fa-2x">
                                                                                                                        </i>
                                                                                                                    </li>
                                                                                                                </ul>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </tbody>
                                                                                                </table>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-footer mt-5">
                    <div class="float-right">
                        <button class="btn btn-secondary"
                            ui-sref="techo.training.questionsetlist({refId: configureQuestionController.refId, refType: configureQuestionController.refType})">Back</button>
                        <button class="btn btn-primary" ng-click="configureQuestionController.action()">
                            <em class="fa fa-floppy-o"></em>
                            Save
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
